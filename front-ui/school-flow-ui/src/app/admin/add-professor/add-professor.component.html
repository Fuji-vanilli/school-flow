<div class="container-main">
    <div class="row d-flex justify-content-center">
        <div class="col-md-8 main">
            <div class="container">
                <div class="title">Enregister un nouveau Professeur</div>
                <form [formGroup]="formGroup" (ngSubmit)="createProfessor()">
                    <div class="prof-details">
                        <div class="input-box">
                            <span class="details">Nom</span>
                            <input type="text" placeholder="ex. RAKOTO" formControlName="firstname">
                        </div>
                        <div class="input-box">
                            <span class="details">Prénoms</span>
                            <input type="text" placeholder="ex. Fandresena" formControlName="lastname">
                        </div>
                        <div class="input-box">
                            <span class="details">Date de naissance</span>
                            <input type="date" formControlName="dateOfBirth">
                        </div>
                        <div class="input-box">
                            <span class="details">Email</span>
                            <input type="email" placeholder="ex. rakoto@xxx.com" formControlName="email">
                        </div>
                        <div class="input-box">
                            <span class="details">Télephone</span>
                            <input type="text" placeholder="ex. +261 32 00 111 22" formControlName="phone">
                        </div>
                        <div class="input-box">
                            <span class="details">Adresse</span>
                            <input type="text" placeholder="ex. Lot XA Andoharano Tana" formControlName="address">
                        </div>
                        <div class="input-box">
                            <span class="details">Diplôme</span>
                            <input type="text" placeholder="ex. Licence en Mathématiques" formControlName="degree">
                        </div>
                        <div class="input-box">
                            <span class="details">Taux horaire (Ar)</span>
                            <input type="text" placeholder="ex. 5000" formControlName="hoursRate">
                        </div>
                        <div class="input-box">
                            <span class="details">Classe</span>
                            <mat-form-field>
                                <mat-label>Classes selectionnées</mat-label>
                                <mat-select [formControl]="classesSelected" multiple>
                                  <mat-select-trigger>
                                    {{getSelectedClassLevel()[0] || ''}}
                                    @if ((classesSelected.value?.length || 0) > 1) {
                                      <span class="example-additional-selection">
                                        (+{{(classesSelected.value?.length || 0) - 1}} {{classesSelected.value?.length === 2 ? 'autre' : 'autres'}})
                                      </span>
                                    }
                                  </mat-select-trigger>
                                  @for (aClass of classes; track aClass) {
                                    <mat-option [value]="aClass.id">{{capitalize(aClass.level)}}</mat-option> 
                                    }
                                </mat-select>
                              </mat-form-field>
                        </div>
                        <div class="input-box">
                            <span class="details">Matière</span>
                            <mat-form-field>
                                <mat-label>Matières selectionnées</mat-label>
                                <mat-select [formControl]="coursesSelected" multiple>
                                  <mat-select-trigger>
                                    {{getSelectedCourseTitles()[0] || ''}}
                                    @if ((coursesSelected.value?.length || 0) > 1) {
                                      <span class="example-additional-selection">
                                        (+{{(coursesSelected.value?.length || 0) - 1}} {{coursesSelected.value?.length === 2 ? 'autre' : 'autres'}})
                                      </span>
                                    }
                                  </mat-select-trigger>
                                  @for (course of courses; track course) {
                                <mat-option [value]="course.id">{{capitalize(course.title!)}}</mat-option> 
                              }
                                </mat-select>
                              </mat-form-field>
                        </div>
                    </div>
                    <div class="gender-details">
                        <div class="d-flex justify-content-between">
                            <div>
                                <span class="gender-title">Sexe</span>
                                <div class="category">
                                    <mat-radio-group aria-label="Select an option" formControlName="genre">
                                        <mat-radio-button value="Homme">Homme</mat-radio-button>
                                        <mat-radio-button value="Femme">Femme</mat-radio-button>
                                    </mat-radio-group>
                                </div>
                            </div>
                            <div>
                                <span class="gender-title">Ajouter un photo</span>
                                <div class="upload-image">
                                    <input type="file" id="upload" (change)="handleFileInput($event)">
                                    <label for="upload">
                                        <fa-icon [icon]="['fas', 'cloud-arrow-up']"></fa-icon>
                                        <span>Televerser un photo</span>
                                    </label>
                                </div>
                            </div>
                        </div>                         
                    </div>
                    <div class="register">
                        <button>Enregistrer</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>